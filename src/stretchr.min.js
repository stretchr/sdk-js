var Stretchr=Stretchr||{};Stretchr.Defaults={hostName:"stretchr.com",apiVersion:"1.1",protocol:"https"},Stretchr.Client=function(a,b,c,d){var d=d||{};this.account=a,this.project=b,this.key=c,this.hostName=d.hostName||Stretchr.Defaults.hostName,this.protocol=d.protocol||Stretchr.Defaults.protocol,this.apiVersion=d.apiVersion||Stretchr.Defaults.apiVersion},Stretchr.Client.prototype.at=function(a){return new Stretchr.Request(a,this)},Stretchr.Request=function(a,b){this.path=a,this.client=b,this._params=new Stretchr.Bag},Stretchr.Request.prototype.params=function(){return this._params.data.apply(this._params,arguments),this},Stretchr.Request.prototype.url=function(){var a=[this.client.protocol,"://",this.client.account,".",this.client.hostName,"/api/v",this.client.apiVersion,"/",this.client.project,"/",this.path].join(""),b=this._params.queryString();return b&&(a+="?"+b),a},Stretchr.V1_1=Stretchr.V1_1||{},Stretchr.V1_1.Response=function(a){if(this.raw=a,a["~data"]&&a["~data"]["~items"]?(this.data=a["~data"]["~items"],this.total=a["~data"]["~total"],this.count=a["~data"]["~count"]):this.data="object"==typeof a["~data"]&&"undefined"!=typeof a["~data"].length?a["~data"]:[a["~data"]],this.status=a["~status"],this.success=this.status>=200&&this.status<=299,this.errors=a["~errors"],this.errors){this.errorMessages=[];for(var b=0;b<this.errors.length;b++)this.errorMessages.push(this.errors[b]["~message"])}},Stretchr.Bag=function(a){function b(a){return d[a]}function c(a,b){("object"!=typeof b||"undefined"==typeof b.length)&&(b=[b]),"object"==typeof d[a]&&"undefined"!=typeof d[a].length?d[a]=d[a].concat(b):"undefined"==typeof d[a]&&(d[a]=b)}var d={};return{data:function(a,e){if(0==arguments.length)return d;if("object"!=typeof a&&"undefined"!=typeof e)c(a,e);else{if("object"!=typeof a)return b(a);for(var f in a)c(f,a[f])}},queryString:function(){var a=[];for(var b in d)for(var c=0;c<d[b].length;c++)val=d[b][c],a.push(encodeURIComponent(b)+"="+encodeURIComponent(val));return a.join("&")}}};